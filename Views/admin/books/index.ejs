<%- include ('../partials/header.ejs') %>
<%- include ('../partials/navbar.ejs') %>

<div class="container">

    <h1>Livros</h1>

    <a href="/admin/books/create" class="btn btn-info mb-2 text-light">Criar Novo Livro</a>

    <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Imagem</th>
            <th scope="col">ID</th>
            <th scope="col">Name</th>
            <th scope="col">Autor</th>
            <th scope="col">Estado</th>
            <th scope="col">Categoria</th>
            <th scope="col">Preço</th>
            <th scope="col">Descrição</th>
            <th scope="col">Opções</th>
          </tr>
        </thead>
        <tbody>
            <% books.forEach(book => { %>
                <tr>
                    <td> <img src="<%= book.imgLink %>" alt="" class="w-50"> </td>
                    <td style="font-size: smaller;"> <%= book.id %> </td>
                    <td style="font-size: smaller;"> <%= book.name %> </td>
                    <td style="font-size: smaller;"> <%= book.author %> </td>
                    <td style="font-size: smaller;"> <%= book.state %> </td>
                    <td style="font-size: smaller;"> <%= book.category.title %> </td>
                    <td style="font-size: smaller;"> <%= book.price %> </td>
                    <td style="font-size: smaller;"> <%- book.description %> </td>
                    <td>
                        <a href="/admin/books/edit/<%= book.id %>" class="btn btn-outline-warning mb-1"><i class="fas fa-edit"></i></a>
                        
                        <form action="/admin/books/delete" method="POST" style="display: inline;">
                            <input type="hidden" name="id" value="<%= book.id %>">
                            <button type="submit" class="btn btn-outline-danger mb-1"><i class="fas fa-trash-alt"></i></button>
                        </form>
                    </td>
                </tr>
            <% }) %>
        </tbody>
      </table>

</div>


<%- include ('../partials/footer.ejs') %>